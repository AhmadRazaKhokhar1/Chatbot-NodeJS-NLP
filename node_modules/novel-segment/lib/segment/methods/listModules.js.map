{"version":3,"file":"listModules.js","sourceRoot":"","sources":["listModules.ts"],"names":[],"mappings":";;;AAKA,SAAgB,WAAW,CAAC,OAA2B,EAAE,OAA0B;IAElF,IAAI,GAAG,GAAG;QACT,MAAM,EAAE;YACP,SAAS,EAAE,EAAqB;YAChC,SAAS,EAAE,EAAqB;SAChC;QACD,OAAO,EAAE;YACR,SAAS,EAAE,EAAqB;YAChC,SAAS,EAAE,EAAqB;SAChC;KACD,CAAC;IAEF,IAAI,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,cAAc,EAC3B,CAAC;QACA,OAAO,CAAC,SAAS;aACf,OAAO,CAAC,UAAU,GAAG;YAErB,IAAI,IAAa,CAAC;YAElB,IAAI,GAAG,CAAC,IAAI,EACZ,CAAC;gBACA,IAAI,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAC7C,CAAC;oBACA,IAAI,GAAG,IAAI,CAAC;gBACb,CAAC;YACF,CAAC;iBAED,CAAC;gBACA,IAAI,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAU,CAAC,EAC/C,CAAC;oBACA,IAAI,GAAG,IAAI,CAAC;gBACb,CAAC;YACF,CAAC;YAED,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACtD,CAAC,CAAC,CACF;QAED,OAAO,CAAC,SAAS;aACf,OAAO,CAAC,UAAU,GAAG;YAErB,IAAI,IAAa,CAAC;YAElB,IAAI,GAAG,CAAC,IAAI,EACZ,CAAC;gBACA,IAAI,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAC7C,CAAC;oBACA,IAAI,GAAG,IAAI,CAAC;gBACb,CAAC;YACF,CAAC;iBAED,CAAC;gBACA,IAAI,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAU,CAAC,EAC/C,CAAC;oBACA,IAAI,GAAG,IAAI,CAAC;gBACb,CAAC;YACF,CAAC;YAED,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACtD,CAAC,CAAC,CACF;IACF,CAAC;SAED,CAAC;QACA,GAAG,CAAC,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACjD,GAAG,CAAC,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IAClD,CAAC;IAED,OAAO,GAAG,CAAC;AACZ,CAAC;AAtED,kCAsEC","sourcesContent":["import { IOptionsDoSegment } from '../types';\nimport { ISubTokenizer } from '../../mod/Tokenizer';\nimport { ISubOptimizer } from '../../mod/Optimizer';\nimport { Segment } from '../../Segment';\n\nexport function listModules(modules: Segment[\"modules\"], options: IOptionsDoSegment)\n{\n\tlet ret = {\n\t\tenable: {\n\t\t\ttokenizer: [] as ISubTokenizer[],\n\t\t\toptimizer: [] as ISubOptimizer[],\n\t\t},\n\t\tdisable: {\n\t\t\ttokenizer: [] as ISubTokenizer[],\n\t\t\toptimizer: [] as ISubOptimizer[],\n\t\t},\n\t};\n\n\tif (options?.disableModules)\n\t{\n\t\tmodules.tokenizer\n\t\t\t.forEach(function (mod)\n\t\t\t{\n\t\t\t\tlet bool: boolean;\n\n\t\t\t\tif (mod.name)\n\t\t\t\t{\n\t\t\t\t\tif (options.disableModules.includes(mod.name))\n\t\t\t\t\t{\n\t\t\t\t\t\tbool = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (options.disableModules.includes(mod as any))\n\t\t\t\t\t{\n\t\t\t\t\t\tbool = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tret[bool ? 'disable' : 'enable'].tokenizer.push(mod);\n\t\t\t})\n\t\t;\n\n\t\tmodules.optimizer\n\t\t\t.forEach(function (mod)\n\t\t\t{\n\t\t\t\tlet bool: boolean;\n\n\t\t\t\tif (mod.name)\n\t\t\t\t{\n\t\t\t\t\tif (options.disableModules.includes(mod.name))\n\t\t\t\t\t{\n\t\t\t\t\t\tbool = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (options.disableModules.includes(mod as any))\n\t\t\t\t\t{\n\t\t\t\t\t\tbool = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tret[bool ? 'disable' : 'enable'].optimizer.push(mod);\n\t\t\t})\n\t\t;\n\t}\n\telse\n\t{\n\t\tret.enable.tokenizer = modules.tokenizer.slice();\n\t\tret.enable.optimizer = modules.optimizer.slice();\n\t}\n\n\treturn ret;\n}\n"]}