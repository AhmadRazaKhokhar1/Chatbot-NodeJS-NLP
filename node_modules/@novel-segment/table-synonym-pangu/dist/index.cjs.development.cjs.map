{"version":3,"file":"index.cjs.development.cjs","sources":["../src/index.ts"],"sourcesContent":["/**\n * Created by user on 2018/4/19/019.\n */\n\nimport { AbstractTableDictCore, IDICT, IDICT2, IOptions } from '@novel-segment/table-core-abstract';\nimport { ITSTypeAndStringLiteral } from 'ts-type/lib/helper/string';\nimport { EnumDictDatabase } from '@novel-segment/types';\n\n/**\n * 原版 node-segment 的格式\n * @deprecated\n */\nexport class TableDictSynonymPanGu extends AbstractTableDictCore<string>\n{\n\tstatic override readonly type: ITSTypeAndStringLiteral<EnumDictDatabase.SYNONYM> = EnumDictDatabase.SYNONYM;\n\n\tconstructor(type: string = TableDictSynonymPanGu.type, options?: IOptions, ...argv)\n\t{\n\t\tsuper(type, options, ...argv)\n\t}\n\n\tadd(data: [string, string] & string[], skipExists?: boolean)\n\t{\n\t\tif (!Array.isArray(data) || data.length !== 2)\n\t\t{\n\t\t\tthrow new TypeError(JSON.stringify(data));\n\t\t}\n\n\t\tdata[0] = this._trim(data[0]);\n\n\t\tif (!data[0]?.length)\n\t\t{\n\t\t\tthrow new TypeError(JSON.stringify(data));\n\t\t}\n\n\t\tdata[1] = this._trim(data[1]);\n\n\t\tif (skipExists && this.exists(data[0]))\n\t\t{\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._add(data[0], data[1]);\n\n\t\treturn this;\n\t}\n\n\t_add(n1: string, n2: string)\n\t{\n\t\tif (n1 !== n2)\n\t\t{\n\t\t\tthis.TABLE[n1] = n2;\n\t\t}\n\n\t\tif (this.TABLE[n2] === n1)\n\t\t{\n\t\t\tdelete this.TABLE[n2];\n\t\t}\n\t}\n\n\tprotected _trim(s: string)\n\t{\n\t\treturn s.replace(/^\\s+|\\s+$/g, '').trim();\n\t}\n\n}\n\nexport default TableDictSynonymPanGu\n"],"names":["type","add","data","skipExists","_data$","Array","isArray","TypeError","JSON","stringify","_trim","length","exists","_add","n1","n2"],"mappings":";;;;;;AAIA;;;;;AAOG,EAAA,OAAAA,IAAA,GAAA,SAAA,gCAAA;;;;EAYDC,GAAAC,CAAAA,IAAA,EAAAC,UAAA,EAAA;AAAA,IAAA,IAAAC,MAAA,CAAA;IAEO,IAAAC,CAAAA,KAAA,CAAAC,OAAA,CAAkBJ,IAAA;YAOlB,IAAAK,SAAa,CAAAC,IAAA,CAAAC,SAAgB,CAAAP,IAAO,CAAA,CAAA,CAAA;AAG3C,KAAA;IAEAA,IAAA,CAAA,CAAA,CAAA,GAAA,IAAA,CAAAQ,KAAA,CAAAR,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAGC,EAAA,CAAAE,MAAA,GAAAF,IAAA,iBAAAE,MAAA,KAAA,KAAA,CAAA,IAAAA,MAAA,CAAAO,MAAA,CAAA,EAAA;;AAID,KAAA;cAGI,IAAY,CAAAD,KAAA,CAAAR,IAAU,GAAA,CAAA,CAAA;QAE1BC,UAAA,IAAA,IAAA,CAAAS,MAAA,CAAAV,IAAA,CAAA,CAAA,CAAA,CAAA,EAAA;aAGC,IAAA,CAAA;AAIA,KAAA;cAEDA,IAAA,CAAA,CAAA,CAAA,EAAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAES,IAAA,OAAA,IAAA,CAAA;;MAOXW,CAAAC,EAAA,EAAAC,EAAA,EAAA;;;;;;;;;;;;;;;;"}