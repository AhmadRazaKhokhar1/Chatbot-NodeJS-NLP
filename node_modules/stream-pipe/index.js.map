{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";AAAA;;GAEG;;;AAEH,2BAAgD;AAChD,6BAAoD;AAE3C,iGAFY,qBAAgB,OAEZ;AAEzB,SAAgB,IAAI,CAAmE,SAAY,EAAE,UAAa,EAAE,OAA4B;IAE/I,IAAI,KAAK,GAAG,UAEX,CAAC;IAEF,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAC;IAE3B,IAAI,SAAS,YAAY,eAAU,EACnC;QACC,OAAO,eAAY,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAQ,CAAC;KACjE;IAED,OAAO,SAAS,CAAC,IAAI,CAAC,KAAK,CAAQ,CAAC;AACrC,CAAC;AAdD,oBAcC;AAUD,kBAAe,IAAI,CAAC","sourcesContent":["/**\n * Created by user on 2018/4/10/010.\n */\n\nimport { ReadStream as fsReadStream } from \"fs\";\nimport { ReadStream, createReadStream } from \"./fs\";\n\nexport { createReadStream }\n\nexport function pipe<U extends NodeJS.ReadableStream, T extends NodeJS.WritableStream>(srcStream: U, destStream: T, options?: IOptionsStreamPipe): IPipe<U, T>\n{\n\tlet _dest = destStream as T & {\n\t\tpipeFrom: U,\n\t};\n\n\t_dest.pipeFrom = srcStream;\n\n\tif (srcStream instanceof ReadStream)\n\t{\n\t\treturn fsReadStream.prototype.pipe.call(srcStream, _dest) as any;\n\t}\n\n\treturn srcStream.pipe(_dest) as any;\n}\n\nexport type IOptionsStreamPipe = {\n\tend?: boolean;\n}\n\nexport type IPipe<U extends NodeJS.ReadableStream, T extends NodeJS.WritableStream> = T & {\n\tpipeFrom: U,\n};\n\nexport default pipe;\n"]}